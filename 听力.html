<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEFL Listening TPO75</title>
    <link rel="stylesheet" href="quiz_styles.css">
</head>
<body>
    
    <div id="timer" style="display:none;">Time: 00:00</div>

    <div class="container">
        <header>
            <span class="tag">TOEFL LISTENING</span>
            <h1 id="page-title">TPO 75 Practice</h1>
        </header>

        <main>
            <section id="menu-view" class="card">
                <h2>ğŸ“š Select a Passage</h2>
                <p class="instruction">è¯·é€‰æ‹©ä¸€ä¸ªç¯‡ç« å¼€å§‹ç»ƒä¹ ï¼š</p>
                <div class="menu-grid">
                    <button class="menu-card" onclick="startQuiz('c1')">
                        <span class="icon">ğŸ—£ï¸</span>
                        <h3>C1: Adult Literacy</h3>
                        <p>Conversation</p>
                    </button>
                    <button class="menu-card" onclick="startQuiz('l1')">
                        <span class="icon">ğŸ›ï¸</span>
                        <h3>L1: Hatshepsut</h3>
                        <p>Ancient History</p>
                    </button>
                    <button class="menu-card" onclick="startQuiz('l2')">
                        <span class="icon">ğŸŒ‘</span>
                        <h3>L2: Origin of Life</h3>
                        <p>Paleontology</p>
                    </button>
                    <button class="menu-card" onclick="startQuiz('c2')">
                        <span class="icon">ğŸ§¬</span>
                        <h3>C2: RP73 Experiment</h3>
                        <p>Conversation</p>
                    </button>
                    <button class="menu-card" onclick="startQuiz('l3')">
                        <span class="icon">ğŸ­</span>
                        <h3>L3: Method Acting</h3>
                        <p>Acting Class</p>
                    </button>
                </div>
            </section>

            <section id="lecture-view" class="card" style="display: none;">
                <div class="card-header">
                    <h2 id="lecture-title">ğŸ§ Lecture Audio</h2>
                    <button onclick="backToMenu()" class="back-link">â†© Back to Menu</button>
                </div>
                <div class="audio-wrapper">
                    <p class="instruction">è¯·ä»”ç»†å¬å®Œå½•éŸ³ï¼Œå‡†å¤‡å¥½åç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹åšé¢˜ã€‚</p>
                    <audio id="main-audio-player" controls class="main-audio">
                        <source src="" type="audio/mpeg">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
                    </audio>
                </div>
                <button id="start-questions-btn" class="primary-btn">å¼€å§‹åšé¢˜ (Start Quiz)</button>
            </section>

            <section id="question-view" class="card" style="display: none;">
                <div class="card-header">
                    <h2 id="q-progress">Question 1</h2>
                    <span class="q-type" id="q-type-tag">Detail</span>
                </div>

                <div id="replay-audio-container" class="replay-area" style="display: none;">
                    <p class="replay-instruction">ğŸ”Š Listen again to part of the lecture:</p>
                    <audio id="replay-player" controls src=""></audio>
                </div>

                <p class="question-text" id="q-text">é¢˜ç›®å†…å®¹åŠ è½½ä¸­...</p>
                
                <div class="options" id="options-container">
                    </div>

                <button id="next-btn" class="primary-btn" disabled>Next Question</button>
            </section>

            <section id="result-view" class="card" style="display: none;">
                <h2>ğŸ‰ å®Œæˆæµ‹è¯• (Completed)</h2>
                <div class="score-box">
                    <div class="score-label">æ‚¨çš„å¾—åˆ†</div>
                    <div class="score-display">
                        <span id="final-score">0</span> / <span id="total-questions">0</span>
                    </div>
                </div>
                <div class="action-area">
                    <button onclick="enterReviewMode()" class="primary-btn">æŸ¥çœ‹è§£æä¸åŸæ–‡ (Review & Transcript)</button>
                    <button onclick="backToMenu()" class="secondary-btn" style="margin-top:10px;">è¿”å›èœå• (Menu)</button>
                </div>
            </section>

            <section id="review-view" class="card review-layout" style="display: none;">
                <div class="review-nav-bar">
                    <div id="question-navigator" class="nav-numbers"></div>
                    <button onclick="backToMenu()" class="small-btn">é€€å‡ºå¤ä¹ </button>
                </div>

                <div class="split-container">
                    <div class="left-panel">
                        <div id="review-q-content"></div>
                        <div class="answer-comparison" id="review-answer-bar"></div>
                    </div>

                    <div class="right-panel"></div>
                </div>
            </section>

        </main>
    </div>

    <script src="quiz_script.js"></script>
</body>
</html>